<Page
    x:Class="FanKit.MainPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:FanKit"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
   xmlns:animations="using:Microsoft.Toolkit.Uwp.UI.Animations"
    xmlns:extensions="using:Microsoft.Toolkit.Uwp.UI.Extensions"
    xmlns:controls="using:Microsoft.Toolkit.Uwp.UI.Controls"
    mc:Ignorable="d"
    Loaded="Page_Loaded"
    Background="{ThemeResource SystemControlForegroundChromeWhiteBrush}">
   
    
    <Page.Resources>

        <!--ImageVisible：图片可视-->
        <SolidColorBrush x:Name="SolidColorBrush" Color="Transparent"/>
        <ImageBrush x:Name="ImageBrush" ImageSource="ms-appx:///Icon/HERO.jpg" Stretch="UniformToFill"/>

        <!--黑鬼视图的样式-->
        <Style x:Name="NavigationViewStyle" TargetType="NavigationView">
            <Setter Property="PaneToggleButtonStyle" Value="{StaticResource PaneToggleButtonStyle}" />
            <Setter Property="IsTabStop" Value="False" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="NavigationView">
                        <Grid x:Name="RootGrid">

                            <VisualStateManager.VisualStateGroups>
                                <VisualStateGroup x:Name="DisplayModeGroup">
                                    <VisualState x:Name="Compact" />

                                    <VisualState x:Name="Expanded">
                                        <VisualState.Setters>
                                            <Setter Target="RootSplitView.PaneBackground" Value="{ThemeResource NavigationViewExpandedPaneBackground}" />
                                        </VisualState.Setters>
                                    </VisualState>

                                    <VisualState x:Name="Minimal">
                                        <VisualState.Setters>
                                            <Setter Target="HeaderContent.Margin" Value="48,5,0,0" />
                                        </VisualState.Setters>
                                    </VisualState>

                                    <VisualState x:Name="MinimalWithBackButton">
                                        <VisualState.Setters>
                                            <Setter Target="HeaderContent.Margin" Value="104,5,0,0" />
                                        </VisualState.Setters>
                                    </VisualState>
                                </VisualStateGroup>

                                <VisualStateGroup x:Name="TogglePaneGroup">
                                    <VisualState x:Name="TogglePaneButtonVisible" />
                                    <VisualState x:Name="TogglePaneButtonCollapsed">
                                        <VisualState.Setters>
                                            <Setter Target="TogglePaneButton.Visibility" Value="Collapsed" />
                                            <Setter Target="PaneContentGridToggleButtonRow.Height" Value="4" />
                                        </VisualState.Setters>
                                    </VisualState>
                                </VisualStateGroup>

                                <VisualStateGroup x:Name="HeaderGroup">
                                    <VisualState x:Name="HeaderVisible" />
                                    <VisualState x:Name="HeaderCollapsed">
                                        <VisualState.Setters>
                                            <Setter Target="HeaderContent.Visibility" Value="Collapsed" />
                                        </VisualState.Setters>
                                    </VisualState>
                                </VisualStateGroup>

                                <VisualStateGroup x:Name="SettingsGroup">
                                    <VisualState x:Name="SettingsVisible" />
                                    <VisualState x:Name="SettingsCollapsed">
                                        <VisualState.Setters>
                                            <Setter Target="SettingsNavPaneItem.Visibility" Value="Collapsed" />
                                        </VisualState.Setters>
                                    </VisualState>
                                </VisualStateGroup>

                                <VisualStateGroup x:Name="AutoSuggestGroup">
                                    <VisualState x:Name="AutoSuggestBoxVisible" />
                                    <VisualState x:Name="AutoSuggestBoxCollapsed">
                                        <VisualState.Setters>
                                            <Setter Target="AutoSuggestArea.Visibility" Value="Collapsed" />
                                        </VisualState.Setters>
                                    </VisualState>
                                </VisualStateGroup>

                                <VisualStateGroup x:Name="PaneStateGroup">
                                    <VisualState x:Name="NotClosedCompact" />
                                    <VisualState x:Name="ClosedCompact">
                                        <VisualState.Setters>
                                            <Setter Target="PaneAutoSuggestBoxPresenter.Visibility" Value="Collapsed" />
                                            <Setter Target="PaneAutoSuggestButton.Visibility" Value="Visible" />
                                        </VisualState.Setters>
                                    </VisualState>
                                </VisualStateGroup>

                                <VisualStateGroup x:Name="PaneStateListSizeGroup">
                                    <VisualState x:Name="ListSizeFull" />
                                    <VisualState x:Name="ListSizeCompact">
                                        <VisualState.Setters>
                                            <Setter Target="MenuItemsHost.HorizontalAlignment" Value="Left" />
                                            <!-- This is essentially a TemplateBinding: -->
                                            <Setter Target="MenuItemsHost.Width" Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=CompactPaneLength}" />
                                            <Setter Target="PaneTitleTextBlock.Visibility" Value="Collapsed" />
                                        </VisualState.Setters>
                                    </VisualState>
                                </VisualStateGroup>

                                <VisualStateGroup x:Name="TitleBarVisibilityGroup">
                                    <VisualState x:Name="TitleBarVisible" />
                                    <VisualState x:Name="TitleBarCollapsed">
                                        <VisualState.Setters>
                                            <Setter Target="PaneButtonGrid.Margin" Value="0,32,0,0" />
                                            <Setter Target="PaneContentGrid.Margin" Value="0,32,0,0" />
                                        </VisualState.Setters>
                                    </VisualState>
                                </VisualStateGroup>

                            </VisualStateManager.VisualStateGroups>

                            <Grid x:Name="PaneToggleButtonGrid" Margin="0,0,0,8" HorizontalAlignment="Left" VerticalAlignment="Top" Canvas.ZIndex="100">

                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="Auto" />
                                </Grid.RowDefinitions>
                                <Grid x:Name="TogglePaneTopPadding" />

                                <Grid x:Name="ButtonHolderGrid" Grid.Row="1">
                                    <Button x:Name="NavigationViewBackButton" Style="{StaticResource NavigationBackButtonNormalStyle}" VerticalAlignment="Top" IsEnabled="{TemplateBinding IsBackEnabled}"/>
                                    <Button x:Name="TogglePaneButton" Style="{TemplateBinding PaneToggleButtonStyle}" AutomationProperties.LandmarkType="Navigation" VerticalAlignment="Top"/>
                                </Grid>
                            </Grid>

                            <SplitView x:Name="RootSplitView" Background="{TemplateBinding Background}" CompactPaneLength="{TemplateBinding CompactPaneLength}" DisplayMode="Inline" IsPaneOpen="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=IsPaneOpen, Mode=TwoWay}" IsTabStop="False" OpenPaneLength="{TemplateBinding OpenPaneLength}" PaneBackground="{ThemeResource NavigationViewDefaultPaneBackground}">

                                <SplitView.Pane>
                                    <Grid x:Name="PaneContentGrid">
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto" />
                                            <RowDefinition Height="0" />
                                            <!-- above button margin + back button space -->
                                            <RowDefinition x:Name="PaneContentGridToggleButtonRow" Height="Auto" />
                                            <RowDefinition Height="Auto" />
                                            <RowDefinition Height="8" />
                                            <!-- above list margin -->
                                            <RowDefinition Height="*" />
                                            <RowDefinition Height="Auto" />
                                            <RowDefinition Height="Auto" />
                                            <RowDefinition Height="8" />
                                        </Grid.RowDefinitions>
                                        <Grid x:Name="ContentPaneTopPadding" />

                                        <Grid Grid.Row="2" Height="{StaticResource PaneToggleButtonHeight}">
                                            <TextBlock
                                            x:Name="PaneTitleTextBlock" 
                                            Text="{TemplateBinding PaneTitle}"
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Center"
                                            Style="{StaticResource NavigationViewItemHeaderTextStyle}"/>
                                        </Grid>

                                        <Grid
                                        x:Name="AutoSuggestArea"
                                        Grid.Row="3"
                                        Height="44"
                                        VerticalAlignment="Center">

                                            <ContentControl
                                            x:Name="PaneAutoSuggestBoxPresenter"
                                            Margin="16,0,16,0"
                                            IsTabStop="False"
                                            Content="{TemplateBinding AutoSuggestBox}"
                                            HorizontalContentAlignment="Stretch"
                                            VerticalContentAlignment="Center"/>

                                            <Button
                                            x:Name="PaneAutoSuggestButton"
                                            Visibility="Collapsed"
                                            Style="{TemplateBinding PaneToggleButtonStyle}"
                                            Width="{TemplateBinding CompactPaneLength}"
                                            MinHeight="44"
                                            Content="&#xE11A;"/>
                                        </Grid>
                                        <NavigationViewList x:Name="MenuItemsHost" Grid.Row="5" Margin="0,0,0,20" SelectionMode="Single" IsItemClickEnabled="True" HorizontalAlignment="Stretch" ItemsSource="{TemplateBinding MenuItemsSource}" SelectedItem="{TemplateBinding SelectedItem}" ItemTemplate="{TemplateBinding MenuItemTemplate}" ItemTemplateSelector="{TemplateBinding MenuItemTemplateSelector}" ItemContainerStyle="{TemplateBinding MenuItemContainerStyle}" ItemContainerStyleSelector="{TemplateBinding MenuItemContainerStyleSelector}" />

                                        <Border
                                        x:Name="FooterContentBorder"
                                        Grid.Row="6"
                                        Child="{TemplateBinding PaneFooter}" />
                                        <NavigationViewItem x:Name="SettingsNavPaneItem" Grid.Row="7" Icon="Setting" />
                                    </Grid>
                                </SplitView.Pane>

                                <SplitView.Content>
                                    <Grid x:Name="ContentGrid">
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto" />
                                            <RowDefinition Height="*" />
                                        </Grid.RowDefinitions>

                                        <ContentPresenter Grid.RowSpan="2" Content="{TemplateBinding Content}"/>

                                        <ContentControl x:Name="HeaderContent" Foreground="White" MinHeight="{StaticResource PaneToggleButtonHeight}" IsTabStop="False" Content="{TemplateBinding Header}" ContentTemplate="{TemplateBinding HeaderTemplate}" VerticalContentAlignment="Stretch" HorizontalContentAlignment="Stretch" Style="{StaticResource NavigationViewTitleHeaderContentControlTextStyle}"/>

                                    </Grid>
                                </SplitView.Content>
                                
                            </SplitView>

                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        
    </Page.Resources>

    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="50"/>
            <RowDefinition Height="1"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <InkToolbarCustomToggleButton x:Name="HomeButton" Grid.Column="0" Content="&#xE80F;" FontFamily="{ThemeResource SymbolThemeFontFamily}" Tapped="HomeButton_Tapped"/>
 
            <ListView Grid.Column="1" 
                      IsItemClickEnabled="True" ItemClick="ListView_ItemClick"
                      ScrollViewer.HorizontalScrollMode="Enabled" ScrollViewer.VerticalScrollMode="Disabled">

                <ListView.ItemsPanel>
                    <ItemsPanelTemplate>
                        <VirtualizingStackPanel Orientation="Horizontal"/>
                    </ItemsPanelTemplate>
                </ListView.ItemsPanel>

                <ListViewItem x:Name="SystemBrushItem" Content="System brushes" Tapped="SystemBrushItem_Tapped"/>
                <ListViewItem x:Name="LegacyBrushItem" Content="Legacy brushes" Tapped="LegacyBrushItem_Tapped"/>
                <ListViewItem x:Name="InkToolbarBrushItem" Content="InkToolbar brushes" Tapped="InkToolbarBrushItem_Tapped"/>

                <ListViewItem x:Name="AcrylicElementBrushItem" Content="AcrylicElement brushes" Tapped="AcrylicElementBrushItem_Tapped"/>
                <ListViewItem x:Name="AcrylicWindowBrushItem" Content="AcrylicWindow brushes" Tapped="AcrylicWindowBrushItem_Tapped"/>
                <ListViewItem x:Name="RevealBorderBrushItem" Content="RevealBorder brushes" Tapped="RevealBorderBrushItem_Tapped"/>

                <ListViewItem x:Name="ColorItem" Content="Colors" Tapped="ColorItem_Tapped"/>

                <ListViewItem x:Name="TextBlockStylerItem" Content="TextBlock Styles" Tapped="TextBlockStylerItem_Tapped"/>
                <ListViewItem x:Name="ButtonStylerItem" Content="Button Styles" Tapped="ButtonStylerItem_Tapped"/>

            </ListView>

            <InkToolbarCustomToggleButton x:Name="SettingButton" Grid.Column="2" Content="&#xE115;" FontFamily="{ThemeResource SymbolThemeFontFamily}" Tapped="SettingButton_Tapped"/>
     
        </Grid>
   
        <Rectangle Grid.Row="1" Fill="{ThemeResource InkToolbarAccentColorThemeBrush}"/>
        
        <Grid x:Name="NavigationView" Grid.Row="2" Background="{StaticResource ImageBrush}">
      
            <!--页面-->
        <Frame x:Name="Frame"/>

       
            <!--按钮-->
        <Button x:Name="Border" 
                Style="{StaticResource AppFABButtonStyle}"
                extensions:VisualExtensions.CenterPoint="32,32,0"
                Tapped="Border_Tapped">

            <!--Visibility="Visible"动画：上浮并显现-->
            <animations:Implicit.ShowAnimations>
                <animations:TranslationAnimation Duration="0:0:1" From="0,100,0" To="0,0,0"/>
                <animations:OpacityAnimation Duration="0:0:1" From="0.0" To="1.0"/>
            </animations:Implicit.ShowAnimations>

            <!--Visibility="Collapsed"动画：下降并消失-->
            <animations:Implicit.HideAnimations>
                <animations:TranslationAnimation Duration="0:0:1" From="0,0,0" To="0,100,0"/>
                <animations:OpacityAnimation Duration="0:0:1" From="1.0" To="0.0"/>
            </animations:Implicit.HideAnimations>

            <FontIcon FontFamily="Segoe MDL2 Assets" FontSize="24" Glyph="&#xEB9F;" Foreground="White"/>
        </Button>
        </Grid>
        
    </Grid>

</Page>
